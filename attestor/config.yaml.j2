---
## config.yaml chain-service
name: {{ attestor_name }}
version: 2.0.1
chains:
  - name: aleo
    chain_id: {{ aleo_chain_id }}
    chain_type: aleo
    wallet_address: {{ aleo_wallet_address }} # wallet indentifier
    bridge_contract: {{ aleo_bridge_contract }}
    node_url: {{ aleo_node_url }}
    sequence_num_start:
      bsc: 370
      ethereum: 1607
      base: 1
      arbitrum: 1
    retry_packet_wait_dur: 2m0s
    prune_base_seq_num_wait_dur: 5m0s
    average_block_gen_dur: 3s
    dest_chains:
      bsc:
        pkt_validity_wait_dur: 15m0s
        finality_height: 23
      base:
        pkt_validity_wait_dur: 15m0s
        finality_height: 23
      ethereum:
        pkt_validity_wait_dur: 2m0s
        finality_height: 23
      arbitrum:
        pkt_validity_wait_dur: 15m0s
        finality_height: 23

  - name: bsc
    chain_id: {{ bsc_chain_id }}
    chain_type: evm
    wallet_address: {{ bsc_wallet_address }} # can be same as ethereum address
    bridge_contract: {{ bsc_bridge_contract }}
    node_url: {{ bsc_node_url }}
    filter_topic: 0x2ea0473a63d92d3182c86a6f05d1984a63782c7c58f5d32bb629fdf43388c1b0
    retry_packet_wait_dur: 1m0s
    prune_base_seq_num_wait_dur: 1m0s
    average_block_gen_dur: 2s
    dest_chains:
      aleo:
        pkt_validity_wait_dur: 1m0s
        finality_height: 21
        feed_pkt_wait_dur: 1m0s
        start_height: {{ bsc_start_height }}
  - name: base
    chain_id: {{ base_chain_id }}
    chain_type: evm
    wallet_address: {{ base_wallet_address }}
    bridge_contract: {{ base_bridge_contract }}
    node_url: {{ base_node_url }}
    filter_topic: 0x2ea0473a63d92d3182c86a6f05d1984a63782c7c58f5d32bb629fdf43388c1b0
    retry_packet_wait_dur: 1m0s
    prune_base_seq_num_wait_dur: 1m0s
    average_block_gen_dur: 2s
    disabled: false
    dest_chains:
      aleo:
        pkt_validity_wait_dur: 1560m0s
        finality_height: 450
        feed_pkt_wait_dur: 1m0s
        start_height: {{ base_start_height }}
        instant_pkt_wait_dur: 15m0s

  - name: arbitrum
    chain_id: {{ arbitrum_chain_id }}
    chain_type: evm
    wallet_address: {{ arbitrum_wallet_address }}
    bridge_contract: {{ arbitrum_bridge_contract }}
    node_url: {{ arbitrum_node_url }}
    filter_topic: 0x2ea0473a63d92d3182c86a6f05d1984a63782c7c58f5d32bb629fdf43388c1b0
    retry_packet_wait_dur: 1m0s
    prune_base_seq_num_wait_dur: 1m0s
    average_block_gen_dur: 2s
    disabled: false
    dest_chains:
      aleo:
        pkt_validity_wait_dur: 1560m0s
        finality_height: 450
        feed_pkt_wait_dur: 1m0s
        start_height: {{ arbitrum_start_height }}
        instant_pkt_wait_dur: 15m0s

  - name: ethereum
    chain_id: {{ ethereum_chain_id }}
    chain_type: evm
    wallet_address: {{ ethereum_wallet_address }}
    bridge_contract: {{ ethereum_bridge_contract }}
    node_url: {{ ethereum_node_url }}
    filter_topic: 0x2ea0473a63d92d3182c86a6f05d1984a63782c7c58f5d32bb629fdf43388c1b0
    retry_packet_wait_dur: 1m0s
    prune_base_seq_num_wait_dur: 1m0s
    average_block_gen_dur: 12s
    disabled: false
    dest_chains:
      aleo:
        pkt_validity_wait_dur: 1560m0s
        finality_height: 75
        feed_pkt_wait_dur: 1m0s
        start_height: {{ ethereum_start_height }}
        instant_pkt_wait_dur: 15m0s

check_health_service: 1m
db_dir: {{ db_dir }}
consume_packet_workers: 10 # Default is 10
log:
  encoding: console
  rotation:
      max_size: 100
      max_age: 14
      max_backups: 10
      compress: true
  output_paths:
    - {{ log_dir }}
    - stdout
mode: stag
signing_service:
  host: {{ signing_service_host }}
  port: {{ signing_service_port }}
  endpoint: "/sign"
  scheme: "http" # https, http, rpc, etc.
  username: {{ signing_service_username }}
  password: {{ signing_service_password }}
  health_end_point: "/health"
collector_service:
  uri: {{ collector_service_url }}
  # Within collector_wait_dur, collector-service will try to collect all unconfirmed packets iteratively
  collector_wait_dur: 1h
  ca_certificate: /configs/.mtls/ca.crt
  attestor_certificate: /configs/.mtls/{{ attestor_name }}.crt
  attestor_key: /configs/.mtls/{{ attestor_name }}.key

metrics:
  host: {{ prometheus_pushgateway_url }}
  job_name: {{ prometheus_job_name }}

---
## config.yaml signing-service
chains:
  - name: aleo
    chain_type: aleo
    chain_id: {{ aleo_chain_id }}
  - name: bsc
    chain_type: evm
    chain_id: {{ bsc_chain_id }}
  - name: ethereum
    chain_type: evm
    chain_id: {{ ethereum_chain_id }}
  - name: base
    chain_type: evm
    chain_id: {{ base_chain_id }}
  - name: arbitrum
    chain_type: evm
    chain_id: {{ arbitrum_chain_id }}
cred:
  username: {{ signing_service_username }}
  password: {{ signing_service_password }}

---
## secrets.yaml
chain:
 bsc:
   chain_type: evm
   private_key: {{ bsc_private_key }}
   wallet_address: {{ bsc_wallet_address }}
 aleo:
   chain_type: aleo
   private_key: {{ aleo_private_key }}
   wallet_address: {{ aleo_wallet_address }}
 ethereum:
   chain_type: evm
   private_key: {{ bsc_private_key }}
   wallet_address: {{ bsc_wallet_address }}
 base:
   chain_type: evm
   private_key: {{ base_private_key }}
   wallet_address: {{ base_wallet_address }}
 arbitrum:
   chain_type: evm
   private_key: {{ base_private_key }}
   wallet_address: {{ base_wallet_address }}
---
## Docker Image Tags
DOCKER_IMAGE_TAG_SIGN={{ docker_image_tag_sign }}
DOCKER_IMAGE_TAG_CHAIN={{ docker_image_tag_chain }}
DEPLOYMENT_ENVIRONMENT={{ deployment_environment }}
